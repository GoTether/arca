<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arca Raw Data</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <h2>Arca Raw Data</h2>
  <div id="output" style="white-space: pre-wrap; font-family: monospace; background: #eee; padding: 1em; border-radius: 10px;"></div>
  <script>
    // Your Firebase config (with fixed storageBucket)
    const firebaseConfig = {
      apiKey: "AIzaSyAZoL7FPJ8wBqz_sX81Fo5eKXpsOVrLUZ0",
      authDomain: "tether-71e0c.firebaseapp.com",
      databaseURL: "https://tether-71e0c-default-rtdb.firebaseio.com",
      projectId: "tether-71e0c",
      storageBucket: "tether-71e0c.appspot.com",
      messagingSenderId: "277809008742",
      appId: "1:277809008742:web:2586a2b821d8da8f969da7",
      measurementId: "G-X7ZQ6DJYEN"
    };
    firebase.initializeApp(firebaseConfig);

    // Get arcaId from URL query string
    const urlParams = new URLSearchParams(window.location.search);
    const arcaId = urlParams.get('id');
    if (!arcaId) {
      document.getElementById('output').textContent = 'No arca ID specified in URL.';
    } else {
      firebase.database().ref('arcas/' + arcaId).once('value')
        .then(snapshot => {
          if (snapshot.exists()) {
            document.getElementById('output').textContent = JSON.stringify(snapshot.val(), null, 2);
          } else {
            document.getElementById('output').textContent = 'No data found for arca ID: ' + arcaId;
          }
        })
        .catch(error => {
          document.getElementById('output').textContent = 'Error fetching data: ' + error;
          console.error(error);
        });
    }
  </script>
</body>
</html>
